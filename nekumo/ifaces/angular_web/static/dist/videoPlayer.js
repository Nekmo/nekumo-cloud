System.registerDynamic("npm:videogular-buffering@1.4.4/vg-buffering.js",[],!0,function(e,t,n){"format cjs";"use strict";this||self;angular.module("com.2fdevs.videogular.plugins.buffering",[]).run(["$templateCache",function(e){e.put("vg-templates/vg-buffering",'<div class="bufferingContainer">              <div ng-class="spinnerClass" class="loadingSpinner"></div>            </div>')}]).directive("vgBuffering",["VG_STATES","VG_UTILS",function(e,t){return{restrict:"E",require:"^videogular",templateUrl:function(e,t){return t.vgTemplate||"vg-templates/vg-buffering"},link:function(n,i,r,a){n.showSpinner=function(){n.spinnerClass={stop:a.isBuffering},i.css("display","block")},n.hideSpinner=function(){n.spinnerClass={stop:a.isBuffering},i.css("display","none")},n.setState=function(e){e?n.showSpinner():n.hideSpinner()},n.onStateChange=function(t){t==e.STOP&&n.hideSpinner()},n.onPlayerReady=function(e){e&&n.hideSpinner()},n.showSpinner(),t.isMobileDevice()?n.hideSpinner():n.$watch(function(){return a.isReady},function(e,t){1!=a.isReady&&e==t||n.onPlayerReady(e)}),n.$watch(function(){return a.currentState},function(e,t){e!=t&&n.onStateChange(e)}),n.$watch(function(){return a.isBuffering},function(e,t){e!=t&&n.setState(e)})}}}])}),System.registerDynamic("npm:videogular-buffering@1.4.4/index.js",["videogular","./vg-buffering"],!0,function(e,t,n){this||self;e("videogular"),e("./vg-buffering"),n.exports="com.2fdevs.videogular.plugins.buffering"}),System.registerDynamic("npm:videogular-buffering@1.4.4.js",["npm:videogular-buffering@1.4.4/index.js"],!0,function(e,t,n){this||self;n.exports=e("npm:videogular-buffering@1.4.4/index.js")}),System.registerDynamic("npm:videogular-controls@1.4.4/vg-controls.js",[],!0,function(e,t,n){"format cjs";"use strict";this||self;angular.module("com.2fdevs.videogular.plugins.controls",[]).run(["$templateCache",function(e){e.put("vg-templates/vg-controls",'<div class="controls-container" ng-mousemove="onMouseMove()" ng-class="animationClass" ng-transclude></div>')}]).directive("vgControls",["$timeout","VG_STATES",function(e,t){return{restrict:"E",require:"^videogular",transclude:!0,templateUrl:function(e,t){return t.vgTemplate||"vg-templates/vg-controls"},scope:{vgAutohide:"=?",vgAutohideTime:"=?"},link:function(n,i,r,a){var o,s=2e3;n.API=a,n.onMouseMove=function(){n.vgAutohide&&n.showControls()},n.setAutohide=function(i){i&&a.currentState==t.PLAY?o=e(n.hideControls,s):(n.animationClass="",e.cancel(o),n.showControls())},n.setAutohideTime=function(e){s=e},n.hideControls=function(){n.animationClass="hide-animation"},n.showControls=function(){n.animationClass="show-animation",e.cancel(o),n.vgAutohide&&a.currentState==t.PLAY&&(o=e(n.hideControls,s))},a.isConfig?n.$watch("API.config",function(){if(n.API.config){var e=n.API.config.plugins.controls.autohide||!1,t=n.API.config.plugins.controls.autohideTime||2e3;n.vgAutohide=e,n.vgAutohideTime=t,n.setAutohideTime(t),n.setAutohide(e)}}):(void 0!=n.vgAutohide&&n.$watch("vgAutohide",n.setAutohide),void 0!=n.vgAutohideTime&&n.$watch("vgAutohideTime",n.setAutohideTime)),n.$watch(function(){return a.currentState},function(e,t){n.vgAutohide&&n.showControls()})}}}]),angular.module("com.2fdevs.videogular.plugins.controls").run(["$templateCache",function(e){e.put("vg-templates/vg-fullscreen-button",'<button class="iconButton" ng-click="onClickFullScreen()" ng-class="fullscreenIcon" aria-label="Toggle full screen" type="button"> </button>')}]).directive("vgFullscreenButton",[function(){return{restrict:"E",require:"^videogular",scope:{},templateUrl:function(e,t){return t.vgTemplate||"vg-templates/vg-fullscreen-button"},link:function(e,t,n,i){e.onChangeFullScreen=function(t){e.fullscreenIcon={enter:!t,exit:t}},e.onClickFullScreen=function(){i.toggleFullScreen()},e.fullscreenIcon={enter:!0},e.$watch(function(){return i.isFullScreen},function(t,n){t!=n&&e.onChangeFullScreen(t)})}}}]),angular.module("com.2fdevs.videogular.plugins.controls").run(["$templateCache",function(e){e.put("vg-templates/vg-play-pause-button",'<button class="iconButton" ng-click="onClickPlayPause()" ng-class="playPauseIcon" aria-label="Play/Pause" type="button"></button>')}]).directive("vgPlayPauseButton",["VG_STATES",function(e){return{restrict:"E",require:"^videogular",scope:{},templateUrl:function(e,t){return t.vgTemplate||"vg-templates/vg-play-pause-button"},link:function(t,n,i,r){t.setState=function(n){switch(n){case e.PLAY:t.playPauseIcon={pause:!0};break;case e.PAUSE:t.playPauseIcon={play:!0};break;case e.STOP:t.playPauseIcon={play:!0}}},t.onClickPlayPause=function(){r.playPause()},t.playPauseIcon={play:!0},t.$watch(function(){return r.currentState},function(e,n){t.setState(e)})}}}]),angular.module("com.2fdevs.videogular.plugins.controls").run(["$templateCache",function(e){e.put("vg-templates/vg-playback-button",'<button class="playbackValue iconButton" ng-click="onClickPlayback()">{{playback}}x</button>')}]).directive("vgPlaybackButton",[function(){return{restrict:"E",require:"^videogular",templateUrl:function(e,t){return t.vgTemplate||"vg-templates/vg-playback-button"},scope:{vgSpeeds:"=?"},link:function(e,t,n,i){e.playback="1",e.setPlayback=function(t){e.playback=t,i.setPlayback(parseFloat(t))},e.onClickPlayback=function(){var t=e.vgSpeeds||["0.5","1","1.5","2"],n=t.indexOf(e.playback.toString())+1;n>=t.length?e.playback=t[0]:e.playback=t[n],e.setPlayback(e.playback)},e.$watch(function(){return i.playback},function(t,n){t!=n&&e.setPlayback(t)})}}}]),angular.module("com.2fdevs.videogular.plugins.controls").directive("vgScrubBarBuffer",[function(){return{restrict:"E",require:"^videogular",link:function(e,t,n,i){var r=0;e.onUpdateBuffer=function(e){"number"==typeof e&&i.totalTime?(r=100*(e/i.totalTime),t.css("width",r+"%")):t.css("width",0)},e.$watch(function(){return i.bufferEnd},function(t,n){e.onUpdateBuffer(t)})}}}]),angular.module("com.2fdevs.videogular.plugins.controls").run(["$templateCache",function(e){e.put("vg-templates/vg-scrub-bar-cue-points",'<div class="cue-point-timeline"><div ng-repeat="cuePoint in vgCuePoints" class="cue-point" ng-style="cuePoint.$$style"></div></div>')}]).directive("vgScrubBarCuePoints",[function(){return{restrict:"E",require:"^videogular",templateUrl:function(e,t){return t.vgTemplate||"vg-templates/vg-scrub-bar-cue-points"},scope:{vgCuePoints:"="},link:function(e,t,n,i){e.onPlayerReady=function(){e.updateCuePoints(e.vgCuePoints)},e.updateCuePoints=function(e){var n;if(e){n=parseInt(t[0].clientWidth);for(var r=0,a=e.length;r<a;r++){var o=e[r].timeLapse.end>=0?e[r].timeLapse.end:e[r].timeLapse.start+1,s=1e3*(o-e[r].timeLapse.start),l=100*e[r].timeLapse.start/Math.round(i.totalTime/1e3)+"%",u=0;"number"==typeof s&&i.totalTime&&(u=100*s/i.totalTime+"%"),e[r].$$style={width:u,left:l}}}},e.$watch("vgCuePoints",e.updateCuePoints),e.$watch(function(){return i.totalTime},function(t,n){t>0&&e.onPlayerReady()})}}}]),angular.module("com.2fdevs.videogular.plugins.controls").directive("vgScrubBarCurrentTime",[function(){return{restrict:"E",require:"^videogular",link:function(e,t,n,i){var r=0;e.onUpdateTime=function(e){"number"==typeof e&&i.totalTime?(r=100*(e/i.totalTime),t.css("width",r+"%")):t.css("width",0)},e.$watch(function(){return i.currentTime},function(t,n){e.onUpdateTime(t)})}}}]),angular.module("com.2fdevs.videogular.plugins.controls").run(["$templateCache",function(e){e.put("vg-templates/vg-scrub-bar-thumbnails",'<div class="vg-thumbnails" ng-show="thumbnails" ng-style="thumbnailContainer"><div class="image-thumbnail" ng-style="thumbnails"></div></div><div class="background"></div>')}]).directive("vgScrubBarThumbnails",["VG_UTILS",function(e){return{restrict:"E",require:"^videogular",templateUrl:function(e,t){return t.vgTemplate||"vg-templates/vg-scrub-bar-thumbnails"},scope:{vgThumbnails:"="},link:function(t,n,i,r){var a=0,o=0,s=n[0].querySelector(".background"),l="string"==typeof t.vgThumbnails;t.thumbnails=!1,t.thumbnailContainer={},t.getOffset=function(e){for(var t=e.target,n=0;t&&!isNaN(t.offsetLeft);)n+=t.offsetLeft-t.scrollLeft,t=t.offsetParent;return e.clientX-n},t.onLoadThumbnails=function(e){a=e.currentTarget.naturalWidth,o=a/100},t.onLoadThumbnail=function(e){o=e.currentTarget.naturalWidth},t.updateThumbnails=function(e){var n=Math.round(100*e/(r.totalTime/1e3)),i=s.scrollWidth*n/100-o/2;if(l){var u=Math.round(a*n/100);t.thumbnailContainer={width:o+"px",left:i+"px"},t.thumbnails={"background-image":'url("'+t.vgThumbnails+'")',"background-position":-u+"px 0px"}}else{var c=r.totalTime/s.scrollWidth/1e3,d={start:Math.floor(e-c/2),end:Math.ceil(e)};if(d.start<0&&(d.start=0),d.end>r.totalTime&&(d.end=r.totalTime),t.thumbnailContainer={left:i+"px"},t.thumbnails={"background-image":"none"},t.vgThumbnails)for(var m=0,h=t.vgThumbnails.length;m<h;m++){var g=t.vgThumbnails[m];if(g.timeLapse.end>=0){if(d.start>=g.timeLapse.start&&(d.end<=g.timeLapse.end||d.end<=g.timeLapse.start)){t.thumbnails={"background-image":'url("'+g.params.thumbnail+'")'};break}}else if(g.timeLapse.start>=d.start&&g.timeLapse.start<=d.end){t.thumbnails={"background-image":'url("'+g.params.thumbnail+'")'};break}}}},t.onMouseMove=function(e){var n=Math.round(e.offsetX*r.mediaElement[0].duration/s.scrollWidth);t.updateThumbnails(n),t.$digest()},t.onTouchMove=function(e){var n=e.touches,i=t.getOffset(n[0]),a=Math.round(i*r.mediaElement[0].duration/s.scrollWidth);t.updateThumbnails(a),t.$digest()},t.onMouseLeave=function(e){t.thumbnails=!1,t.$digest()},t.onTouchLeave=function(e){t.thumbnails=!1,t.$digest()},t.onDestroy=function(){n.unbind("touchmove",t.onTouchMove),n.unbind("touchleave",t.onTouchLeave),n.unbind("touchend",t.onTouchLeave),n.unbind("mousemove",t.onMouseMove),n.unbind("mouseleave",t.onMouseLeave)};var u;l?(u=new Image,u.onload=t.onLoadThumbnails.bind(t),u.src=t.vgThumbnails):(u=new Image,u.onload=t.onLoadThumbnail.bind(t),u.src=t.vgThumbnails[0].params.thumbnail),e.isMobileDevice()?(n.bind("touchmove",t.onTouchMove),n.bind("touchleave",t.onTouchLeave),n.bind("touchend",t.onTouchLeave)):(n.bind("mousemove",t.onMouseMove),n.bind("mouseleave",t.onMouseLeave)),t.$on("destroy",t.onDestroy.bind(t))}}}]),angular.module("com.2fdevs.videogular.plugins.controls").run(["$templateCache",function(e){e.put("vg-templates/vg-scrub-bar",'<div role="slider" aria-valuemax="{{ariaTime(API.totalTime)}}" aria-valuenow="{{ariaTime(API.currentTime)}}" aria-valuemin="0" aria-label="Time scrub bar" tabindex="0" ng-keydown="onScrubBarKeyDown($event)"></div><div class="container" ng-transclude></div>')}]).directive("vgScrubBar",["VG_STATES","VG_UTILS",function(e,t){return{restrict:"E",require:"^videogular",transclude:!0,templateUrl:function(e,t){return t.vgTemplate||"vg-templates/vg-scrub-bar"},scope:{vgThumbnails:"="},link:function(n,i,r,a){var o=!1,s=!1,l=!1,u=37,c=39,d=5,m=0,h=0,g=i[0].querySelector("div[role=slider]");if(n.thumbnails=!1,n.thumbnailContainer={},n.API=a,n.onLoadThumbnails=function(e){m=e.path[0].naturalWidth,h=m/100},n.ariaTime=function(e){return Math.round(e/1e3)},n.getOffset=function(e){for(var t=e.target,n=0;t&&!isNaN(t.offsetLeft);)n+=t.offsetLeft-t.scrollLeft,t=t.offsetParent;return e.clientX-n},n.onScrubBarTouchStart=function(e){var t=e.originalEvent||e,i=t.touches,r=n.getOffset(i[0]);o=!0,s&&(l=!0),a.pause(),a.seekTime(r*a.mediaElement[0].duration/g.scrollWidth),n.$digest()},n.onScrubBarTouchEnd=function(e){e.originalEvent||e;l&&(l=!1,a.play()),o=!1,n.$digest()},n.onScrubBarTouchMove=function(e){var t=e.originalEvent||e,i=t.touches,r=n.getOffset(i[0]);if(n.vgThumbnails&&n.vgThumbnails.length){var s=Math.round(r*a.mediaElement[0].duration/g.scrollWidth),l=Math.round(100*s/(a.totalTime/1e3));n.updateThumbnails(l)}o&&a.seekTime(r*a.mediaElement[0].duration/g.scrollWidth),n.$digest()},n.onScrubBarTouchLeave=function(e){o=!1,n.thumbnails=!1,n.$digest()},n.onScrubBarMouseDown=function(e){e=t.fixEventOffset(e),o=!0,s&&(l=!0),a.pause(),a.seekTime(e.offsetX*a.mediaElement[0].duration/g.scrollWidth),n.$digest()},n.onScrubBarMouseUp=function(e){l&&(l=!1,a.play()),o=!1,n.$digest()},n.onScrubBarMouseMove=function(e){if(n.vgThumbnails&&n.vgThumbnails.length){var i=Math.round(e.offsetX*a.mediaElement[0].duration/g.scrollWidth),r=Math.round(100*i/(a.totalTime/1e3));n.updateThumbnails(r)}o&&(e=t.fixEventOffset(e),a.seekTime(e.offsetX*a.mediaElement[0].duration/g.scrollWidth)),n.$digest()},n.onScrubBarMouseLeave=function(e){o=!1,n.thumbnails=!1,n.$digest()},n.onScrubBarKeyDown=function(e){var t=a.currentTime/a.totalTime*100;e.which===u||e.keyCode===u?(a.seekTime(t-d,!0),e.preventDefault()):e.which!==c&&e.keyCode!==c||(a.seekTime(t+d,!0),e.preventDefault())},n.updateThumbnails=function(e){var t=Math.round(m*e/100),i=g.scrollWidth*e/100-h/2;n.thumbnailContainer={width:h+"px",left:i+"px"},n.thumbnails={"background-image":'url("'+n.vgThumbnails+'")',"background-position":-t+"px 0px"}},n.setState=function(t){if(!o)switch(t){case e.PLAY:s=!0;break;case e.PAUSE:s=!1;break;case e.STOP:s=!1}},n.onDestroy=function(){i.unbind("touchstart",n.onScrubBarTouchStart),i.unbind("touchend",n.onScrubBarTouchEnd),i.unbind("touchmove",n.onScrubBarTouchMove),i.unbind("touchleave",n.onScrubBarTouchLeave),i.unbind("mousedown",n.onScrubBarMouseDown),i.unbind("mouseup",n.onScrubBarMouseUp),i.unbind("mousemove",n.onScrubBarMouseMove),i.unbind("mouseleave",n.onScrubBarMouseLeave)},n.$watch(function(){return a.currentState},function(e,t){e!=t&&n.setState(e)}),n.vgThumbnails){var v=new Image;v.onload=n.onLoadThumbnails.bind(n),v.src=n.vgThumbnails}t.isMobileDevice()?(i.bind("touchstart",n.onScrubBarTouchStart),i.bind("touchend",n.onScrubBarTouchEnd),i.bind("touchmove",n.onScrubBarTouchMove),i.bind("touchleave",n.onScrubBarTouchLeave)):(i.bind("mousedown",n.onScrubBarMouseDown),i.bind("mouseup",n.onScrubBarMouseUp),i.bind("mousemove",n.onScrubBarMouseMove),i.bind("mouseleave",n.onScrubBarMouseLeave)),n.$on("destroy",n.onDestroy.bind(n))}}}]),angular.module("com.2fdevs.videogular.plugins.controls").directive("vgTimeDisplay",[function(){return{require:"^videogular",restrict:"E",link:function(e,t,n,i){e.currentTime=i.currentTime,e.timeLeft=i.timeLeft,e.totalTime=i.totalTime,e.isLive=i.isLive,e.$watch(function(){return i.currentTime},function(t,n){e.currentTime=t}),e.$watch(function(){return i.timeLeft},function(t,n){e.timeLeft=t}),e.$watch(function(){return i.totalTime},function(t,n){e.totalTime=t}),e.$watch(function(){return i.isLive},function(t,n){e.isLive=t})}}}]),angular.module("com.2fdevs.videogular.plugins.controls").run(["$templateCache",function(e){e.put("vg-templates/vg-mute-button",'<button type="button" class="iconButton" ng-class="muteIcon" ng-click="onClickMute()" ng-focus="onMuteButtonFocus()" ng-blur="onMuteButtonLoseFocus()" ng-mouseleave="onMuteButtonLeave()" ng-keydown="onMuteButtonKeyDown($event)" aria-label="Mute"></button>')}]).directive("vgMuteButton",[function(){return{restrict:"E",require:"^videogular",templateUrl:function(e,t){return t.vgTemplate||"vg-templates/vg-mute-button"},link:function(e,t,n,i){var r=!1,a=38,o=40,s=.05;e.onClickMute=function(){r?e.currentVolume=e.defaultVolume:(e.currentVolume=0,e.muteIcon={mute:!0}),r=!r,i.setVolume(e.currentVolume)},e.onMuteButtonFocus=function(){e.volumeVisibility="visible"},e.onMuteButtonLoseFocus=function(){e.volumeVisibility="hidden"},e.onMuteButtonLeave=function(){document.activeElement.blur()},e.onMuteButtonKeyDown=function(e){var t,n=null!=i.volume?i.volume:1;e.which===a||e.keyCode===a?(t=n+s,t>1&&(t=1),i.setVolume(t),e.preventDefault()):e.which!==o&&e.keyCode!==o||(t=n-s,t<0&&(t=0),i.setVolume(t),e.preventDefault())},e.onSetVolume=function(t){e.currentVolume=t,r=0===e.currentVolume,r?t>0&&(e.defaultVolume=t):e.defaultVolume=t;var n=Math.round(100*t);0==n?e.muteIcon={mute:!0}:n>0&&n<25?e.muteIcon={level0:!0}:n>=25&&n<50?e.muteIcon={level1:!0}:n>=50&&n<75?e.muteIcon={level2:!0}:n>=75&&(e.muteIcon={level3:!0})},e.defaultVolume=1,e.currentVolume=e.defaultVolume,e.muteIcon={level3:!0},e.onSetVolume(i.volume),e.$watch(function(){return i.volume},function(t,n){t!=n&&e.onSetVolume(t)})}}}]),angular.module("com.2fdevs.videogular.plugins.controls").run(["$templateCache",function(e){e.put("vg-templates/vg-volume-bar",'<div class="verticalVolumeBar">              <div class="volumeBackground" ng-click="onClickVolume($event)" ng-mousedown="onMouseDownVolume()" ng-mouseup="onMouseUpVolume()" ng-mousemove="onMouseMoveVolume($event)" ng-mouseleave="onMouseLeaveVolume()">                <div class="volumeValue"></div>                <div class="volumeClickArea"></div>              </div>            </div>')}]).directive("vgVolumeBar",["VG_UTILS",function(e){return{restrict:"E",require:"^videogular",templateUrl:function(e,t){return t.vgTemplate||"vg-templates/vg-volume-bar"},link:function(t,n,i,r){var a=!1,o=angular.element(n[0].getElementsByClassName("volumeBackground")),s=angular.element(n[0].getElementsByClassName("volumeValue"));t.onClickVolume=function(t){t=e.fixEventOffset(t);var n=parseInt(o.prop("offsetHeight")),i=100*t.offsetY/n,a=1-i/100;r.setVolume(a)},t.onMouseDownVolume=function(){a=!0},t.onMouseUpVolume=function(){a=!1},t.onMouseLeaveVolume=function(){a=!1},t.onMouseMoveVolume=function(t){if(a){t=e.fixEventOffset(t);var n=parseInt(o.prop("offsetHeight")),i=100*t.offsetY/n,s=1-i/100;r.setVolume(s)}},t.updateVolumeView=function(e){e*=100,s.css("height",e+"%"),s.css("top",100-e+"%")},t.onChangeVisibility=function(e){n.css("visibility",e)},n.css("visibility",t.volumeVisibility),t.$watch("volumeVisibility",t.onChangeVisibility),t.updateVolumeView(r.volume),t.$watch(function(){return r.volume},function(e,n){e!=n&&t.updateVolumeView(e)})}}}]),angular.module("com.2fdevs.videogular.plugins.controls").directive("vgVolume",["VG_UTILS",function(e){return{restrict:"E",link:function(t,n,i){t.onMouseOverVolume=function(){t.$evalAsync(function(){t.volumeVisibility="visible"})},t.onMouseLeaveVolume=function(){t.$evalAsync(function(){t.volumeVisibility="hidden"})},t.onDestroy=function(){n.unbind("mouseover",t.onScrubBarTouchStart),n.unbind("mouseleave",t.onScrubBarTouchEnd)},e.isMobileDevice()?n.css("display","none"):(t.volumeVisibility="hidden",n.bind("mouseover",t.onMouseOverVolume),n.bind("mouseleave",t.onMouseLeaveVolume)),t.$on("destroy",t.onDestroy.bind(t))}}}])}),System.registerDynamic("npm:videogular-controls@1.4.4/index.js",["videogular","./vg-controls"],!0,function(e,t,n){this||self;e("videogular"),e("./vg-controls"),n.exports="com.2fdevs.videogular.plugins.controls"}),System.registerDynamic("npm:videogular-controls@1.4.4.js",["npm:videogular-controls@1.4.4/index.js"],!0,function(e,t,n){this||self;n.exports=e("npm:videogular-controls@1.4.4/index.js")}),System.registerDynamic("npm:angular-sanitize@1.6.2/angular-sanitize.js",["angular"],!1,function(e,t,n){var i=System.get("@@global-helpers").prepareGlobal(n.id,null,null);return function(e){"format global";"deps angular";!function(e,t){"use strict";function n(){function n(e,t){var n,i={},r=e.split(",");for(n=0;n<r.length;n++)i[t?l(r[n]):r[n]]=!0;return i}function i(t,n){null===t||void 0===t?t="":"string"!=typeof t&&(t=""+t),y.innerHTML=t;var i=5;do{if(0===i)throw m("uinput","Failed to sanitize html because the input is unstable");i--,e.document.documentMode&&f(y),t=y.innerHTML,y.innerHTML=t}while(t!==y.innerHTML);for(var r=y.firstChild;r;){switch(r.nodeType){case 1:n.start(r.nodeName.toLowerCase(),h(r.attributes));break;case 3:n.chars(r.textContent)}var a;if(!(a=r.firstChild)&&(1===r.nodeType&&n.end(r.nodeName.toLowerCase()),a=r.nextSibling,!a))for(;null==a&&(r=r.parentNode,r!==y);)a=r.nextSibling,1===r.nodeType&&n.end(r.nodeName.toLowerCase());r=a}for(;r=y.firstChild;)y.removeChild(r)}function h(e){for(var t={},n=0,i=e.length;n<i;n++){var r=e[n];t[r.name]=r.value}return t}function g(e){return e.replace(/&/g,"&amp;").replace(b,function(e){var t=e.charCodeAt(0),n=e.charCodeAt(1);return"&#"+(1024*(t-55296)+(n-56320)+65536)+";"}).replace(S,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function v(e,t){var n=!1,i=r(e,e.push);return{start:function(e,r){e=l(e),!n&&$[e]&&(n=e),n||M[e]!==!0||(i("<"),i(e),o(r,function(n,r){var a=l(r),o="img"===e&&"src"===a||"background"===a;V[a]!==!0||x[a]===!0&&!t(n,o)||(i(" "),i(r),i('="'),i(g(n)),i('"'))}),i(">"))},end:function(e){e=l(e),n||M[e]!==!0||T[e]===!0||(i("</"),i(e),i(">")),e==n&&(n=!1)},chars:function(e){n||i(g(e))}}}function f(t){for(;t;){if(t.nodeType===e.Node.ELEMENT_NODE)for(var n=t.attributes,i=0,r=n.length;i<r;i++){var a=n[i],o=a.name.toLowerCase();"xmlns:ns1"!==o&&0!==o.lastIndexOf("ns1:",0)||(t.removeAttributeNode(a),i--,r--)}var s=t.firstChild;s&&f(s),t=t.nextSibling}}var p=!1;this.$get=["$$sanitizeUri",function(e){return p&&a(M,w),function(t){var n=[];return c(t,d(n,function(t,n){return!/^unsafe:/.test(e(t,n))})),n.join("")}}],this.enableSvg=function(e){return s(e)?(p=e,this):p},r=t.bind,a=t.extend,o=t.forEach,s=t.isDefined,l=t.lowercase,u=t.noop,c=i,d=v;var y,b=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,S=/([^#-~ |!])/g,T=n("area,br,col,hr,img,wbr"),E=n("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),k=n("rp,rt"),C=a({},k,E),P=a({},E,n("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,section,table,ul")),L=a({},k,n("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),w=n("circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,stop,svg,switch,text,title,tspan"),$=n("script,style"),M=a({},T,P,L,C),x=n("background,cite,href,longdesc,src,xlink:href"),D=n("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,tabindex,target,title,type,valign,value,vspace,width"),A=n("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan",!0),V=a({},x,A,D);!function(e){var t;if(!e.document||!e.document.implementation)throw m("noinert","Can't create an inert html document");t=e.document.implementation.createHTMLDocument("inert");var n=t.documentElement||t.getDocumentElement(),i=n.getElementsByTagName("body");if(1===i.length)y=i[0];else{var r=t.createElement("html");y=t.createElement("body"),r.appendChild(y),t.appendChild(r)}}(e)}function i(e){var t=[],n=d(t,u);return n.chars(e),t.join("")}var r,a,o,s,l,u,c,d,m=t.$$minErr("$sanitize");t.module("ngSanitize",[]).provider("$sanitize",n),t.module("ngSanitize").filter("linky",["$sanitize",function(e){var n=/((ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"\u201d\u2019]/i,r=/^mailto:/i,a=t.$$minErr("linky"),o=t.isDefined,s=t.isFunction,l=t.isObject,u=t.isString;return function(t,c,d){function m(e){e&&b.push(i(e))}function h(e,t){var n,i=p(e);b.push("<a ");for(n in i)b.push(n+'="'+i[n]+'" ');!o(c)||"target"in i||b.push('target="',c,'" '),b.push('href="',e.replace(/"/g,"&quot;"),'">'),m(t),b.push("</a>")}if(null==t||""===t)return t;if(!u(t))throw a("notstring","Expected string but received: {0}",t);for(var g,v,f,p=s(d)?d:l(d)?function(){return d}:function(){return{}},y=t,b=[];g=y.match(n);)v=g[0],g[2]||g[4]||(v=(g[3]?"http://":"mailto:")+v),f=g.index,m(y.substr(0,f)),h(v,g[0].replace(r,"")),y=y.substring(f+g[0].length);return m(y),e(b.join(""))}}])}(window,window.angular)}(this),i()}),System.registerDynamic("npm:angular-sanitize@1.6.2/index.js",["./angular-sanitize"],!0,function(e,t,n){this||self;e("./angular-sanitize"),n.exports="ngSanitize"}),System.registerDynamic("npm:angular-sanitize@1.6.2.js",["npm:angular-sanitize@1.6.2/index.js"],!0,function(e,t,n){this||self;n.exports=e("npm:angular-sanitize@1.6.2/index.js")}),System.registerDynamic("npm:videogular@1.4.4/videogular.js",[],!0,function(e,t,n){"format cjs";"use strict";this||self;angular.module("com.2fdevs.videogular",["ngSanitize"]).run(["$templateCache",function(e){e.put("vg-templates/vg-media-video","<video></video>"),e.put("vg-templates/vg-media-audio","<audio></audio>"),Function.prototype.bind||(Function.prototype.bind=function(e){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var t=Array.prototype.slice.call(arguments,1),n=this,i=function(){},r=function(){return n.apply(this instanceof i?this:e,t.concat(Array.prototype.slice.call(arguments)))};return i.prototype=this.prototype,r.prototype=new i,r})}]),angular.module("com.2fdevs.videogular").constant("VG_STATES",{PLAY:"play",PAUSE:"pause",STOP:"stop"}).constant("VG_VOLUME_KEY","videogularVolume"),angular.module("com.2fdevs.videogular").controller("vgController",["$scope","$window","vgConfigLoader","vgFullscreen","VG_UTILS","VG_STATES","VG_VOLUME_KEY",function(e,t,n,i,r,a,o){var s=null,l=!1,u=!1,c=!1,d=!1;this.videogularElement=null,this.clearMedia=function(){this.mediaElement[0].src="",this.mediaElement[0].removeEventListener("canplay",this.onCanPlay.bind(this),!1),this.mediaElement[0].removeEventListener("loadedmetadata",this.onLoadMetaData.bind(this),!1),this.mediaElement[0].removeEventListener("waiting",this.onStartBuffering.bind(this),!1),this.mediaElement[0].removeEventListener("ended",this.onComplete.bind(this),!1),this.mediaElement[0].removeEventListener("playing",this.onStartPlaying.bind(this),!1),this.mediaElement[0].removeEventListener("play",this.onPlay.bind(this),!1),this.mediaElement[0].removeEventListener("pause",this.onPause.bind(this),!1),this.mediaElement[0].removeEventListener("volumechange",this.onVolumeChange.bind(this),!1),this.mediaElement[0].removeEventListener("playbackchange",this.onPlaybackChange.bind(this),!1),this.mediaElement[0].removeEventListener("timeupdate",this.onUpdateTime.bind(this),!1),this.mediaElement[0].removeEventListener("progress",this.onProgress.bind(this),!1),this.mediaElement[0].removeEventListener("seeking",this.onSeeking.bind(this),!1),this.mediaElement[0].removeEventListener("seeked",this.onSeeked.bind(this),!1),this.mediaElement[0].removeEventListener("error",this.onVideoError.bind(this),!1)},this.onRouteChange=function(){void 0!==this.clearMediaOnNavigate&&this.clearMediaOnNavigate!==!0||this.clearMedia()},this.onCanPlay=function(t){this.isBuffering=!1,e.$parent.$digest(e.vgCanPlay({$event:t})),!c&&(this.startTime>0||0===this.startTime)&&(this.seekTime(this.startTime),c=!0)},this.onVideoReady=function(){this.isReady=!0,this.autoPlay=e.vgAutoPlay,this.playsInline=e.vgPlaysInline,this.nativeFullscreen=e.vgNativeFullscreen||!0,this.cuePoints=e.vgCuePoints,this.startTime=e.vgStartTime,this.virtualClipDuration=e.vgVirtualClipDuration,this.clearMediaOnNavigate=e.vgClearMediaOnNavigate||!0,this.currentState=a.STOP,u=!0,d=this.startTime>=0&&this.virtualClipDuration>0,r.supportsLocalStorage()&&this.setVolume(parseFloat(t.localStorage.getItem(o)||"1")),e.vgConfig?n.loadConfig(e.vgConfig).then(this.onLoadConfig.bind(this)):e.vgPlayerReady({$API:this})},this.onLoadConfig=function(t){this.config=t,e.vgTheme=this.config.theme,e.vgAutoPlay=this.config.autoPlay,e.vgPlaysInline=this.config.playsInline,e.vgNativeFullscreen=this.config.nativeFullscreen,e.vgCuePoints=this.config.cuePoints,e.vgClearMediaOnNavigate=this.config.clearMediaOnNavigate,e.vgStartTime=this.config.startTime,e.vgVirtualClipDuration=this.config.virtualClipDuration,d=e.vgStartTime>=0&&e.vgVirtualClipDuration>0,e.vgPlayerReady({$API:this})},this.onLoadMetaData=function(e){this.isBuffering=!1,this.onUpdateTime(e)},this.onProgress=function(t){this.updateBuffer(t),e.$parent.$digest()},this.updateBuffer=function(e){e.target.buffered.length&&(this.buffered=e.target.buffered,this.bufferEnd=1e3*e.target.buffered.end(e.target.buffered.length-1),this.bufferEnd>this.totalTime&&(this.bufferEnd=this.totalTime))},this.onUpdateTime=function(t){var n=1e3*t.target.currentTime;this.updateBuffer(t),t.target.duration!=1/0&&null!=t.target.duration&&void 0!=t.target.duration&&1.7976931348623157e308!=t.target.duration?(d?c&&(t.target.currentTime<this.startTime||t.target.currentTime-this.startTime>this.virtualClipDuration)?this.onComplete():(this.currentTime=Math.max(0,n-1e3*this.startTime),this.totalTime=1e3*this.virtualClipDuration,this.timeLeft=1e3*this.virtualClipDuration-this.currentTime):(this.currentTime=n,this.totalTime=1e3*t.target.duration,this.timeLeft=1e3*(t.target.duration-t.target.currentTime)),this.isLive=!1):(this.currentTime=n,this.isLive=!0);var i=d?this.currentTime/1e3:t.target.currentTime,r=d?this.totalTime/1e3:t.target.duration;this.cuePoints&&this.checkCuePoints(i),e.vgUpdateTime({$currentTime:i,$duration:r}),"$apply"!=e.$$phase&&"$digest"!=e.$$phase&&e.$parent.$digest()},this.checkCuePoints=function(e){for(var t in this.cuePoints)for(var n=0,i=this.cuePoints[t].length;n<i;n++){var r=this.cuePoints[t][n],a=parseInt(e,10),o=parseInt(r.timeLapse.start,10);r.timeLapse.end||(r.timeLapse.end=r.timeLapse.start+1),e<r.timeLapse.end&&(r.$$isCompleted=!1),r.$$isDirty||a!==o||"function"!=typeof r.onEnter||(r.onEnter(e,r.timeLapse,r.params),r.$$isDirty=!0),e>r.timeLapse.start?(e<r.timeLapse.end&&(r.onUpdate&&r.onUpdate(e,r.timeLapse,r.params),r.$$isDirty||"function"!=typeof r.onEnter||r.onEnter(e,r.timeLapse,r.params)),e>=r.timeLapse.end&&r.onComplete&&!r.$$isCompleted&&(r.$$isCompleted=!0,r.onComplete(e,r.timeLapse,r.params)),r.$$isDirty=!0):(r.onLeave&&r.$$isDirty&&r.onLeave(e,r.timeLapse,r.params),r.$$isDirty=!1)}},this.onPlay=function(){this.setState(a.PLAY),e.$parent.$digest()},this.onPause=function(){var t=d?this.currentTime:this.mediaElement[0].currentTime;0==t?this.setState(a.STOP):this.setState(a.PAUSE),e.$parent.$digest()},this.onVolumeChange=function(){this.volume=this.mediaElement[0].volume,e.$parent.$digest()},this.onPlaybackChange=function(){this.playback=this.mediaElement[0].playbackRate,e.$parent.$digest()},this.onSeeking=function(t){e.vgSeeking({$currentTime:t.target.currentTime,$duration:t.target.duration})},this.onSeeked=function(t){e.vgSeeked({$currentTime:t.target.currentTime,$duration:t.target.duration})},this.seekTime=function(e,t){var n;if(t)d?(e=Math.max(0,Math.min(e,100)),n=e*this.virtualClipDuration/100,this.mediaElement[0].currentTime=this.startTime+n):(n=e*this.mediaElement[0].duration/100,this.mediaElement[0].currentTime=n);else if(d){var i=e/this.mediaElement[0].duration;n=c?this.virtualClipDuration*i:0,this.mediaElement[0].currentTime=c?this.startTime+n:this.startTime}else n=e,this.mediaElement[0].currentTime=n;this.currentTime=1e3*n},this.playPause=function(){this.mediaElement[0].paused?this.play():this.pause()},this.setState=function(t){return t&&t!=this.currentState&&(e.vgUpdateState({
$state:t}),this.currentState=t),this.currentState},this.play=function(){this.mediaElement[0].play(),this.setState(a.PLAY)},this.pause=function(){this.mediaElement[0].pause(),this.setState(a.PAUSE)},this.stop=function(){try{this.mediaElement[0].pause();var e=d?this.startTime:0;this.mediaElement[0].currentTime=e,this.currentTime=e,this.buffered=[],this.bufferEnd=0,this.setState(a.STOP)}catch(e){return e}},this.toggleFullScreen=function(){i.isAvailable&&this.nativeFullscreen?this.isFullScreen?r.isMobileDevice()||i.exit():r.isMobileDevice()?r.isiOSDevice()?u?this.enterElementInFullScreen(this.mediaElement[0]):(l=!0,this.play()):this.enterElementInFullScreen(this.mediaElement[0]):this.enterElementInFullScreen(this.videogularElement[0]):(this.isFullScreen?(this.videogularElement.removeClass("fullscreen"),this.videogularElement.css("z-index","auto")):(this.videogularElement.addClass("fullscreen"),this.videogularElement.css("z-index",r.getZIndex())),this.isFullScreen=!this.isFullScreen)},this.enterElementInFullScreen=function(e){i.request(e)},this.changeSource=function(t){e.vgChangeSource({$source:t})},this.setVolume=function(n){n=Math.max(Math.min(n,1),0),e.vgUpdateVolume({$volume:n}),this.mediaElement[0].volume=n,this.volume=n,r.supportsLocalStorage()&&t.localStorage.setItem(o,n.toString())},this.setPlayback=function(t){e.vgUpdatePlayback({$playBack:t}),this.mediaElement[0].playbackRate=t,this.playback=t},this.updateTheme=function(e){var t,n,i=document.getElementsByTagName("link");if(s)for(t=0,n=i.length;t<n;t++)if(i[t].outerHTML.indexOf(s)>=0){i[t].parentNode.removeChild(i[t]);break}if(e){var r=angular.element(document).find("head"),a=!1;for(t=0,n=i.length;t<n&&!(a=i[t].outerHTML.indexOf(e)>=0);t++);a||r.append("<link rel='stylesheet' href='"+e+"'>"),s=e}},this.onStartBuffering=function(t){this.isBuffering=!0,e.$parent.$digest()},this.onStartPlaying=function(t){this.isBuffering=!1,e.$parent.$digest()},this.onComplete=function(t){e.vgComplete(),this.setState(a.STOP),this.isCompleted=!0,d&&this.stop(),e.$parent.$digest()},this.onVideoError=function(t){e.vgError({$event:t})},this.addListeners=function(){this.mediaElement[0].addEventListener("canplay",this.onCanPlay.bind(this),!1),this.mediaElement[0].addEventListener("loadedmetadata",this.onLoadMetaData.bind(this),!1),this.mediaElement[0].addEventListener("waiting",this.onStartBuffering.bind(this),!1),this.mediaElement[0].addEventListener("ended",this.onComplete.bind(this),!1),this.mediaElement[0].addEventListener("playing",this.onStartPlaying.bind(this),!1),this.mediaElement[0].addEventListener("play",this.onPlay.bind(this),!1),this.mediaElement[0].addEventListener("pause",this.onPause.bind(this),!1),this.mediaElement[0].addEventListener("volumechange",this.onVolumeChange.bind(this),!1),this.mediaElement[0].addEventListener("playbackchange",this.onPlaybackChange.bind(this),!1),this.mediaElement[0].addEventListener("timeupdate",this.onUpdateTime.bind(this),!1),this.mediaElement[0].addEventListener("progress",this.onProgress.bind(this),!1),this.mediaElement[0].addEventListener("seeking",this.onSeeking.bind(this),!1),this.mediaElement[0].addEventListener("seeked",this.onSeeked.bind(this),!1),this.mediaElement[0].addEventListener("error",this.onVideoError.bind(this),!1)},this.init=function(){this.isReady=!1,this.isCompleted=!1,this.buffered=[],this.bufferEnd=0,this.currentTime=0,this.totalTime=0,this.timeLeft=0,this.isLive=!1,this.isFullScreen=!1,this.playback=1,this.isConfig=void 0!=e.vgConfig,this.mediaElement=[{play:function(){},pause:function(){},stop:function(){},addEventListener:function(){},removeEventListener:function(){}}],i.isAvailable&&(this.isFullScreen=i.isFullScreen()),this.updateTheme(e.vgTheme),this.addBindings(),i.isAvailable&&document.addEventListener(i.onchange,this.onFullScreenChange.bind(this))},this.onUpdateTheme=function(e){this.updateTheme(e)},this.onUpdateAutoPlay=function(e){e&&!this.autoPlay&&(this.autoPlay=e,this.play(this))},this.onUpdateStartTime=function(e){if(e&&e!=this.startTime){this.mediaElement[0].currentTime=e,this.startTime=e,d=this.startTime>=0&&this.virtualClipDuration>0;var t={target:this.mediaElement[0]};this.onUpdateTime(t,!0)}},this.onUpdateVirtualClipDuration=function(e){if(e&&e!=this.virtualClipDuration){this.virtualClipDuration=e,d=this.startTime>=0&&this.virtualClipDuration>0;var t={target:this.mediaElement[0]};this.onUpdateTime(t,!0)}},this.onUpdatePlaysInline=function(e){this.playsInline=e},this.onUpdateNativeFullscreen=function(e){void 0==e&&(e=!0),this.nativeFullscreen=e},this.onUpdateCuePoints=function(e){this.cuePoints=e,this.checkCuePoints(this.currentTime)},this.onUpdateClearMediaOnNavigate=function(e){this.clearMediaOnNavigate=e},this.addBindings=function(){e.$watch("vgTheme",this.onUpdateTheme.bind(this)),e.$watch("vgAutoPlay",this.onUpdateAutoPlay.bind(this)),e.$watch("vgStartTime",this.onUpdateStartTime.bind(this)),e.$watch("vgVirtualClipDuration",this.onUpdateVirtualClipDuration.bind(this)),e.$watch("vgPlaysInline",this.onUpdatePlaysInline.bind(this)),e.$watch("vgNativeFullscreen",this.onUpdateNativeFullscreen.bind(this)),e.$watch("vgCuePoints",this.onUpdateCuePoints.bind(this)),e.$watch("vgClearMediaOnNavigate",this.onUpdateClearMediaOnNavigate.bind(this))},this.onFullScreenChange=function(t){this.isFullScreen=i.isFullScreen(),e.$parent.$digest()},e.$on("$destroy",this.clearMedia.bind(this)),e.$on("$routeChangeStart",this.onRouteChange.bind(this)),this.init()}]),angular.module("com.2fdevs.videogular").directive("vgCrossorigin",[function(){return{restrict:"A",require:"^videogular",link:{pre:function(e,t,n,i){var r;e.setCrossorigin=function(e){e?i.mediaElement.attr("crossorigin",e):i.mediaElement.removeAttr("crossorigin")},i.isConfig?e.$watch(function(){return i.config},function(){i.config&&e.setCrossorigin(i.config.crossorigin)}):e.$watch(n.vgCrossorigin,function(t,n){r&&t==n||!t?e.setCrossorigin():(r=t,e.setCrossorigin(r))})}}}}]),angular.module("com.2fdevs.videogular").directive("vgLoop",[function(){return{restrict:"A",require:"^videogular",link:{pre:function(e,t,n,i){var r;e.setLoop=function(e){e?i.mediaElement.attr("loop",e):i.mediaElement.removeAttr("loop")},i.isConfig?e.$watch(function(){return i.config},function(){i.config&&e.setLoop(i.config.loop)}):e.$watch(n.vgLoop,function(t,n){r&&t==n||!t?e.setLoop():(r=t,e.setLoop(r))})}}}}]),angular.module("com.2fdevs.videogular").directive("vgMedia",["$timeout","VG_UTILS","VG_STATES",function(e,t,n){return{restrict:"E",require:"^videogular",templateUrl:function(e,t){var n=t.vgType||"video";return t.vgTemplate||"vg-templates/vg-media-"+n},scope:{vgSrc:"=?",vgType:"=?"},link:function(i,r,a,o){var s;a.vgType&&"video"!==a.vgType?a.vgType="audio":a.vgType="video",i.onChangeSource=function(e,t){s&&e==t||!e||(s=e,o.currentState!==n.PLAY&&(o.currentState=n.STOP),o.sources=s,i.changeSource())},i.changeSource=function(){if(angular.isArray(s)){var n="";if(o.mediaElement[0].canPlayType){for(var i=0,r=s.length;i<r;i++)if(n=o.mediaElement[0].canPlayType(s[i].type),"maybe"==n||"probably"==n){o.mediaElement.attr("src",s[i].src),o.mediaElement.attr("type",s[i].type),o.changeSource(s[i]);break}}else o.mediaElement.attr("src",s[0].src),o.mediaElement.attr("type",s[0].type),o.changeSource(s[0])}else o.mediaElement.attr("src",s),o.changeSource(s);t.isMobileDevice()&&o.mediaElement[0].load(),e(function(){!o.autoPlay||!t.isCordova()&&t.isMobileDevice()||o.play()}),""==n&&o.onVideoError()},o.mediaElement=r.find(a.vgType),o.sources=i.vgSrc,o.addListeners(),o.onVideoReady(),i.$watch("vgSrc",i.onChangeSource),i.$watch(function(){return o.sources},i.onChangeSource),i.$watch(function(){return o.playsInline},function(e,t){e?o.mediaElement.attr("webkit-playsinline",""):o.mediaElement.removeAttr("webkit-playsinline")}),o.isConfig&&i.$watch(function(){return o.config},function(){o.config&&(i.vgSrc=o.config.sources)})}}}]),angular.module("com.2fdevs.videogular").directive("vgNativeControls",[function(){return{restrict:"A",require:"^videogular",link:{pre:function(e,t,n,i){var r;e.setControls=function(e){e?i.mediaElement.attr("controls",e):i.mediaElement.removeAttr("controls")},i.isConfig?e.$watch(function(){return i.config},function(){i.config&&e.setControls(i.config.controls)}):e.$watch(n.vgNativeControls,function(t,n){r&&t==n||!t?e.setControls():(r=t,e.setControls(r))})}}}}]),angular.module("com.2fdevs.videogular").directive("vgPreload",[function(){return{restrict:"A",require:"^videogular",link:{pre:function(e,t,n,i){var r;e.setPreload=function(e){e?i.mediaElement.attr("preload",e):i.mediaElement.removeAttr("preload")},i.isConfig?e.$watch(function(){return i.config},function(){i.config&&e.setPreload(i.config.preload)}):e.$watch(n.vgPreload,function(t,n){r&&t==n||!t?e.setPreload():(r=t,e.setPreload(r))})}}}}]),angular.module("com.2fdevs.videogular").directive("vgTracks",[function(){return{restrict:"A",require:"^videogular",link:{pre:function(e,t,n,i){var r,a,o,s=!1;e.onLoadMetaData=function(){s=!0,e.updateTracks()},e.updateTracks=function(){var t=i.mediaElement.children();for(a=0,o=t.length;a<o;a++)t[a].remove&&t[a].remove();if(r)for(a=0,o=r.length;a<o;a++){var n=document.createElement("track");for(var s in r[a])n[s]=r[a][s];n.addEventListener("load",e.onLoadTrack.bind(e,n)),i.mediaElement[0].appendChild(n)}},e.onLoadTrack=function(t){t.default?t.mode="showing":t.mode="hidden";for(var n=0,r=i.mediaElement[0].textTracks.length;n<r;n++)t.label==i.mediaElement[0].textTracks[n].label&&(t.default?i.mediaElement[0].textTracks[n].mode="showing":i.mediaElement[0].textTracks[n].mode="disabled");t.removeEventListener("load",e.onLoadTrack.bind(e,t))},e.setTracks=function(t){r=t,i.tracks=t,s?e.updateTracks():i.mediaElement[0].addEventListener("loadedmetadata",e.onLoadMetaData.bind(e),!1)},i.isConfig?e.$watch(function(){return i.config},function(){i.config&&e.setTracks(i.config.tracks)}):e.$watch(n.vgTracks,function(t,n){r&&t==n||e.setTracks(t)},!0)}}}}]),angular.module("com.2fdevs.videogular").directive("videogular",[function(){return{restrict:"EA",scope:{vgTheme:"=?",vgAutoPlay:"=?",vgStartTime:"=?",vgVirtualClipDuration:"=?",vgPlaysInline:"=?",vgNativeFullscreen:"=?",vgClearMediaOnNavigate:"=?",vgCuePoints:"=?",vgConfig:"@",vgCanPlay:"&",vgComplete:"&",vgUpdateVolume:"&",vgUpdatePlayback:"&",vgUpdateTime:"&",vgUpdateState:"&",vgPlayerReady:"&",vgChangeSource:"&",vgSeeking:"&",vgSeeked:"&",vgError:"&"},controller:"vgController",controllerAs:"API",link:{pre:function(e,t,n,i){i.videogularElement=angular.element(t)}}}}]),angular.module("com.2fdevs.videogular").service("vgConfigLoader",["$http","$q","$sce",function(e,t,n){this.loadConfig=function(i){var r=t.defer();return e({method:"GET",url:i}).then(function(e){for(var t=e.data,i=0,a=t.sources.length;i<a;i++)t.sources[i].src=n.trustAsResourceUrl(t.sources[i].src);r.resolve(t)},function(){r.reject()}),r.promise}}]),angular.module("com.2fdevs.videogular").service("vgFullscreen",["VG_UTILS",function(e){function t(){var e=!1;return e=n?null!=document[i.element]||n.webkitDisplayingFullscreen:null!=document[i.element]}var n,i=null,r={w3:{enabled:"fullscreenEnabled",element:"fullscreenElement",request:"requestFullscreen",exit:"exitFullscreen",onchange:"fullscreenchange",onerror:"fullscreenerror"},newWebkit:{enabled:"webkitFullscreenEnabled",element:"webkitFullscreenElement",request:"webkitRequestFullscreen",exit:"webkitExitFullscreen",onchange:"webkitfullscreenchange",onerror:"webkitfullscreenerror"},oldWebkit:{enabled:"webkitIsFullScreen",element:"webkitCurrentFullScreenElement",request:"webkitRequestFullScreen",exit:"webkitCancelFullScreen",onchange:"webkitfullscreenchange",onerror:"webkitfullscreenerror"},moz:{enabled:"mozFullScreen",element:"mozFullScreenElement",request:"mozRequestFullScreen",exit:"mozCancelFullScreen",onchange:"mozfullscreenchange",onerror:"mozfullscreenerror"},ios:{enabled:"webkitFullscreenEnabled",element:"webkitFullscreenElement",request:"webkitEnterFullscreen",exit:"webkitExitFullscreen",onchange:"webkitfullscreenchange",onerror:"webkitfullscreenerror"},ms:{enabled:"msFullscreenEnabled",element:"msFullscreenElement",request:"msRequestFullscreen",exit:"msExitFullscreen",onchange:"MSFullscreenChange",onerror:"MSFullscreenError"}};for(var a in r)if(r[a].enabled in document){i=r[a];break}e.isiOSDevice()&&(i=r.ios),this.isAvailable=null!=i,i&&(this.onchange=i.onchange,this.onerror=i.onerror,this.isFullScreen=t,this.exit=function(){document[i.exit]()},this.request=function(e){n=e,n[i.request]()})}]),angular.module("com.2fdevs.videogular").service("VG_UTILS",["$window",function(e){this.fixEventOffset=function(e){var t=navigator.userAgent.match(/Firefox\/(\d+)/i);if(t&&Number.parseInt(t.pop())<39){var n=e.currentTarget.currentStyle||window.getComputedStyle(e.target,null),i=parseInt(n.borderLeftWidth,10),r=parseInt(n.borderTopWidth,10),a=e.currentTarget.getBoundingClientRect(),o=e.clientX-i-a.left,s=e.clientY-r-a.top;e.offsetX=o,e.offsetY=s}return e},this.getZIndex=function(){for(var e,t=1,n=document.getElementsByTagName("*"),i=0,r=n.length;i<r;i++)e=parseInt(window.getComputedStyle(n[i])["z-index"]),e>t&&(t=e+1);return t},this.isMobileDevice=function(){return"undefined"!=typeof window.orientation||navigator.userAgent.indexOf("IEMobile")!==-1},this.isiOSDevice=function(){return navigator.userAgent.match(/ip(hone|ad|od)/i)&&!navigator.userAgent.match(/(iemobile)[\/\s]?([\w\.]*)/i)},this.isCordova=function(){return document.URL.indexOf("http://")===-1&&document.URL.indexOf("https://")===-1},this.supportsLocalStorage=function(){var t="videogular-test-key";try{var n=e.sessionStorage;return n.setItem(t,"1"),n.removeItem(t),"localStorage"in e&&null!==e.localStorage}catch(e){return!1}}}])}),System.registerDynamic("npm:videogular@1.4.4/index.js",["angular","angular-sanitize","./videogular"],!0,function(e,t,n){this||self;e("angular"),e("angular-sanitize"),e("./videogular"),n.exports="com.2fdevs.videogular"}),System.registerDynamic("npm:videogular@1.4.4.js",["npm:videogular@1.4.4/index.js"],!0,function(e,t,n){this||self;n.exports=e("npm:videogular@1.4.4/index.js")}),System.registerDynamic("npm:videogular-overlay-play@1.4.4/vg-overlay-play.js",[],!0,function(e,t,n){"format cjs";"use strict";this||self;angular.module("com.2fdevs.videogular.plugins.overlayplay",[]).run(["$templateCache",function(e){e.put("vg-templates/vg-overlay-play",'<div class="overlayPlayContainer" ng-click="onClickOverlayPlay()">                  <div class="iconButton" ng-class="overlayPlayIcon"></div>                </div>')}]).directive("vgOverlayPlay",["VG_STATES",function(e){return{restrict:"E",require:"^videogular",scope:{},templateUrl:function(e,t){return t.vgTemplate||"vg-templates/vg-overlay-play"},link:function(t,n,i,r){t.onChangeState=function(n){switch(n){case e.PLAY:t.overlayPlayIcon={};break;case e.PAUSE:t.overlayPlayIcon={play:!0};break;case e.STOP:t.overlayPlayIcon={play:!0}}},t.onClickOverlayPlay=function(e){r.playPause()},t.overlayPlayIcon={play:!0},t.$watch(function(){return r.currentState},function(e,n){t.onChangeState(e)})}}}])}),System.registerDynamic("npm:videogular-overlay-play@1.4.4/index.js",["videogular","./vg-overlay-play"],!0,function(e,t,n){this||self;e("videogular"),e("./vg-overlay-play"),n.exports="com.2fdevs.videogular.plugins.overlayplay"}),System.registerDynamic("npm:videogular-overlay-play@1.4.4.js",["npm:videogular-overlay-play@1.4.4/index.js"],!0,function(e,t,n){this||self;n.exports=e("npm:videogular-overlay-play@1.4.4/index.js")}),System.registerDynamic("github:balliegojr/angular-event-dispatcher@0.0.3/build/event-dispatcher.js",[],!1,function(e,t,n){var i=System.get("@@global-helpers").prepareGlobal(n.id,null,null);return function(e){!function(){"use strict";function e(e,t){this._eventSubscriptions=e.newRegistry(),this._strictMode=t}function t(e,t,n){return function(){e.off(t,n)}}e.prototype.register=function(e){var t=this._eventSubscriptions.getValue(e);"undefined"==typeof t&&(t=[],this._eventSubscriptions.register(e,t))},e.prototype._subscribe=function(e,t){var n=this._eventSubscriptions.getValue(e);if(console.error(this._strictMode),"undefined"==typeof n){if(this._strictMode===!0)throw"EventDispatcher: "+e+" not registered";this.register(e),n=this._eventSubscriptions.getValue(e)}n.push(t)},e.prototype._unsubscribe=function(e,t){var n,i=this._eventSubscriptions.getValue(e);if("undefined"==typeof i){if(!this._strictMode)return;throw"EventDispatcher: "+e+" not registered"}for(n=i.length-1;n>=0;n--)i[n]===t&&i.splice(n,1)},e.prototype.on=function(e,n){if(e instanceof Array)for(var i=0;i<e.length;i++)this._subscribe(e[i],n);else this._subscribe(e,n);return new t(this,e,n)},e.prototype.off=function(e,t){if(e instanceof Array)for(var n=0;n<e.length;n++)this._unsubscribe(e[n],t);else this._unsubscribe(e,t)},e.prototype.trigger=function(e,t,n){var i,r=this._eventSubscriptions.getValue(e);if("undefined"==typeof r){if(!this._strictMode)return;throw"EventDispatcher: "+e+" not registered"}for(t=t instanceof Array?t:[t],n=n||this.caller,i=r.length-1;i>=0;i--)try{r[i].apply(n,t)}catch(e){console.error(e)}},angular.module("eventDispatcherModule",["RegistryModule"]).provider("eventDispatcher",[function(){var t=!1;this.strictModeOn=function(){t=!0},this.$get=["RegistryFactory",function(n){return new e(n,t)}]}])}(),function(){"use strict";function e(e){var t=Object.create(null),n=e;this.register=function(e,n){t[e]=n},this.getValue=function(e){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:n},this.getValues=function(){var e=[];for(var n in t)e.push(t[n]);return e}}angular.module("RegistryModule",[]).factory("RegistryFactory",[function(){return{newRegistry:function(t){return new e(t)}}}])}()}(this),i()}),System.registerDynamic("github:erykpiast/angular-duration-format@1.0.1/dist/angular-duration-format.js",[],!1,function(e,t,n){var i=System.get("@@global-helpers").prepareGlobal(n.id,null,null);return function(e){angular.module("angular-duration-format.filter",[]).filter("duration",function(){function e(e){for(var t=[],n=e?e.toString():"";n;){var r=i.exec(n);r?(t=t.concat(r.slice(1)),n=t.pop()):(t.push(n),n=null)}return t}function t(e,t){var i="",a={};return t.filter(function(e){return r.hasOwnProperty(e)}).map(function(e){var t=r[e];return t.hasOwnProperty("pad")?t.value:e}).filter(function(e,t,n){return n.indexOf(e)===t}).map(function(e){return angular.extend({name:e},r[e])}).sort(function(e,t){return t.value-e.value}).forEach(function(t){var n=a[t.name]=Math.floor(e/t.value);e-=n*t.value}),t.forEach(function(e){var t=r[e];if(t){var o=a[t.value];i+=t.hasOwnProperty("pad")?n(o,Math.max(t.pad,o.toString().length)):a[e]}else i+=e.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),i}function n(e,t){return(new Array(t+1).join("0")+e).slice(-t)}var i=/((?:[^ydhms']+)|(?:'(?:[^']|'')*')|(?:y+|d+|h+|m+|s+))(.*)/,r={y:{value:31536e6},yy:{value:"y",pad:2},d:{value:864e5},dd:{value:"d",pad:2},h:{value:36e5},hh:{value:"h",pad:2},m:{value:6e4},mm:{value:"m",pad:2},s:{value:1e3},ss:{value:"s",pad:2},sss:{value:1},ssss:{value:"sss",pad:4}};return function(n,i){var r=parseFloat(n,10),a=e(i);return isNaN(r)||0===a.length?n:t(r,a)}}),angular.module("angular-duration-format",["angular-duration-format.filter"])}(this),i()}),System.registerDynamic("github:erykpiast/angular-duration-format@1.0.1.js",["github:erykpiast/angular-duration-format@1.0.1/dist/angular-duration-format.js"],!0,function(e,t,n){this||self;n.exports=e("github:erykpiast/angular-duration-format@1.0.1/dist/angular-duration-format.js")}),System.registerDynamic("src/shared/chromecast/chromecast.css!github:systemjs/plugin-css@0.1.32.js",[],!1,function(e,t,n){var i=System.get("@@global-helpers").prepareGlobal(n.id,null,null);return function(e){}(this),i()}),System.registerDynamic("src/shared/chromecast/player.html!github:jamespamplin/plugin-ng-template@0.1.1.js",["angular"],!0,function(e,t,n){var i=(this||self,"src/shared/chromecast/player.html");e("angular").module("ng").run(["$templateCache",function(e){e.put(i,'<div id="player" class="md-whiteframe-3dp" flex-xs="100" flex-sm="100" flex-md="60" flex-lg="50" flex-xl="40"\n     ng-if="playerState !== null">\n    <div layout="row" hide-gt-sm>\n        <ng-include src="\'/.nekumo/static/src/shared/chromecast/playerSlider.html\'" include-replace></ng-include>\n    </div>\n    <div layout="row" class="controllers">\n        <div>\n            <md-button class="md-raised md-primary play-pause" ng-click="$chromecast.togglePause();">\n                <md-icon md-font-set="mdi" md-font-icon="mdi-play" ng-if="playerState == \'PAUSED\'"></md-icon>\n                <md-icon md-font-set="mdi" md-font-icon="mdi-pause" ng-if="playerState != \'PAUSED\'"></md-icon>\n            </md-button>\n            <md-button ng-click="undo();" class="undo">\n                <md-icon md-font-set="mdi" md-font-icon="mdi-undo"></md-icon>\n            </md-button>\n            <span class="timing">{{ (currentTime * 1000)|duration:\'h:mm:ss\' }}</span>\n        </div>\n        <ng-include src="\'/.nekumo/static/src/shared/chromecast/playerSlider.html\'" include-replace></ng-include>\n        <div>\n            <span class="timing" hide-xs hide-sm>{{ (duration * 1000)|duration:\'h:mm:ss\' }}</span>\n            <div id="volume">\n                <md-button ng-class="{\'md-raised\': volumeSlider}" ng-click="toggleVolumeSlider();">\n                    <md-icon md-font-set="mdi" md-font-icon="mdi-volume-{{ volumeLevelName }}"></md-icon>\n                </md-button>\n                <div id="volume-slider" md-whiteframe="1" ng-if="volumeSlider">\n                    <md-slider ng-model="volumeLevel" min="0" max="100" aria-label="volume" md-discrete\n                               ng-change="setVolumeLevel(volumeLevel)"\n                               class="md-accent" md-vertical></md-slider>\n                </div>\n            </div>\n            <button class="cast md-button md-ink-ripple" is="google-cast-button"></button>\n        </div>\n    </div>\n</div>')}]),n.exports={templateUrl:i}}),System.registerDynamic("src/shared/chromecast/chromecast.js",["angular","angular-material","balliegojr/angular-event-dispatcher/build/event-dispatcher.js","erykpiast/angular-duration-format","src/shared/chromecast/chromecast.css!css","src/shared/chromecast/player.html!ng-template"],!0,function(e,t,n){this||self;Promise.all([e("angular"),e("angular-material"),e("balliegojr/angular-event-dispatcher/build/event-dispatcher.js"),e("erykpiast/angular-duration-format"),e("src/shared/chromecast/chromecast.css!css")]).then(function(){function t(e){return e>0&&(volumeLevelName="low"),e>40&&(volumeLevelName="medium"),e>70&&(volumeLevelName="high"),e||(volumeLevelName="off"),volumeLevelName}var n=function(){},i={IDLE:"IDLE",LOADING:"LOADING",LOADED:"LOADED",PLAYING:"PLAYING",PAUSED:"PAUSED",STOPPED:"STOPPED",ERROR:"ERROR"},r=function(e){var t={force:!1,callback:null};this.src=null,this.chromecastOptions=angular.extend(t,e),this.castInstance=null,this.isInitialized=!1,this._el=document.createElement("div"),this.dispatch=this._el.dispatchEvent,this.listen=function(e,t){this._el.addEventListener(e,t)}};r.prototype.initializeCastPlayer=function(){var e={};e.receiverApplicationId=chrome.cast.media.DEFAULT_MEDIA_RECEIVER_APP_ID,e.autoJoinPolicy=chrome.cast.AutoJoinPolicy.ORIGIN_SCOPED,this.castInstance=cast.framework.CastContext.getInstance(),this.castInstance.setOptions(e),this.remotePlayer=new cast.framework.RemotePlayer,this.remotePlayerController=new cast.framework.RemotePlayerController(this.remotePlayer),this.remotePlayerController.addEventListener(cast.framework.RemotePlayerEventType.IS_CONNECTED_CHANGED,this.switchPlayer.bind(this)),this.enableListeners()},r.prototype.enableListeners=function(){this.chromecastOptions.callback&&this.remotePlayerController.addEventListener(cast.framework.RemotePlayerEventType.ANY_CHANGE,this.chromecastOptions.callback)},r.prototype.switchPlayer=function(){this.playerState=i.IDLE,cast&&cast.framework&&(this.remotePlayer.isConnected?(this.isInitialized=!0,this.load()):this.isInitialized=!1)},r.prototype.getCurrentSession=function(){if(this.castInstance)return this.castInstance.getCurrentSession()},r.prototype.getMediaSession=function(){var e=this.getCurrentSession();if(e)return e.getMediaSession()},r.prototype.getPlayerState=function(){return(this.getMediaSession()||{}).playerState||""},r.prototype.load=function(){var e=this.getCurrentSession();if(this.chromecastOptions.force||e&&!this.getPlayerState()){var t={mimeType:"video/mp4",title:null,thumbs:null},n=angular.extend(t,this.options),i=new chrome.cast.media.MediaInfo(this.src,n.mimeType);i.metadata=new chrome.cast.media.GenericMediaMetadata,i.metadata.metadataType=chrome.cast.media.MetadataType.GENERIC,n.title&&(i.metadata.title=n.title),n.thumbs&&(i.metadata.images=n.thumbs);var r=new chrome.cast.media.LoadRequest(i);e.loadMedia(r)}},r.prototype.setSrc=function(e,t){this.src=e,this.options=t,this.load()},r.prototype.start=function(){window.__onGCastApiAvailable=function(e){e&&this.initializeCastPlayer()}.bind(this)},r.prototype.getDuration=function(){return this.remotePlayer.duration},r.prototype.seekTo=function(e){this.remotePlayer&&(this.remotePlayer.currentTime=e,this.remotePlayerController.seek())},r.prototype.setVolumeLevel=function(e){this.remotePlayer.volumeLevel=e,this.remotePlayerController.setVolumeLevel()},r.prototype.play=function(){return(this.getMediaSession()||{play:n}).play()},r.prototype.pause=function(){return(this.getMediaSession()||{pause:n}).pause()},r.prototype.togglePause=function(){this.getPlayerState()==i.PAUSED?this.play():this.pause()};var a=angular.module("chromecast",["eventDispatcherModule","ngMaterial","angular-duration-format"]);a.factory("$chromecast",["eventDispatcher",function(e){var t=e,n=new r({callback:function(e){t.trigger(e.field,e),t.trigger("anyChange",e)}});return n.start(),n.events=t,t.on("anyChange",function(e){console.debug(e)}),n}]),a.factory("$chromecastPlayer",["$document","$templateRequest","$compile","$rootScope","$chromecast",function(n,i,r,a,o){return function(){var s=e("src/shared/chromecast/player.html!ng-template").templateUrl;i(s).then(function(e){var i=n.find("body").eq(0),s=angular.element(e),l=a.$new();l=angular.extend(l,{$chromecast:o,playerState:"UNKNOWN",duration:null,currentTime:0,volumeSlider:!1,volumeLevel:0,volumeLevelName:"high"}),l.playerState=null,l.toggleVolumeSlider=function(){l.volumeSlider=!l.volumeSlider},l.setVolumeLevel=function(e){l.volumeLevelName=t(e),o.setVolumeLevel(e/100)},l.undo=function(){o.seekTo(Math.max(l.currentTime-30,0))},r(s)(l),i.append(s),c=o,o.events.on("playerState",function(e){l.$apply(function(){e.value&&null===l.playerState&&a.$broadcast("chromecastActivated"),l.playerState=e.value})}),o.events.on("duration",function(e){l.$apply(function(){l.duration=parseInt(e.value)})}),o.events.on("currentTime",function(e){l.$apply(function(){l.currentTime=parseInt(e.value)})}),o.events.on("volumeLevel",function(e){console.log(e),l.$apply(function(){l.volumeLevel=100*e.value,l.volumeLevelName=t(l.volumeLevel)})})})}}]),a.directive("includeReplace",function(){return{require:"ngInclude",link:function(e,t,n){t.replaceWith(t.children())}}})})}),System.registerDynamic("npm:videogular-themes-default@1.4.4/videogular.css!github:systemjs/plugin-css@0.1.32.js",[],!1,function(e,t,n){var i=System.get("@@global-helpers").prepareGlobal(n.id,null,null);return function(e){}(this),i()}),System.registerDynamic("src/shared/videoPlayer/chromecast.css!github:systemjs/plugin-css@0.1.32.js",[],!1,function(e,t,n){var i=System.get("@@global-helpers").prepareGlobal(n.id,null,null);return function(e){}(this),i()}),System.registerDynamic("src/shared/videoPlayer/videoPlayer.js",["angular","videogular","videogular-buffering","videogular-controls","videogular-overlay-play","shared/chromecast/chromecast","src/libs/npm/videogular-themes-default@1.4.4/videogular.css!css","src/shared/videoPlayer/chromecast.css!css"],!0,function(e,t,n){this||self;Promise.all([e("angular"),e("videogular"),e("videogular-buffering"),e("videogular-controls"),e("videogular-overlay-play"),e("shared/chromecast/chromecast"),e("src/libs/npm/videogular-themes-default@1.4.4/videogular.css!css"),e("src/shared/videoPlayer/chromecast.css!css")]).then(function(){var e=angular.module("videoPlayer",["ngSanitize","com.2fdevs.videogular","com.2fdevs.videogular.plugins.controls","com.2fdevs.videogular.plugins.overlayplay","com.2fdevs.videogular.plugins.buffering","chromecast"]);e.directive("videoPlayer",function(){return{scope:{src:"=",mimeType:"="},templateUrl:"/.nekumo/static/src/shared/videoPlayer/videoPlayer.html"}}),e.controller("videoPlayerCtrl",["$scope","$sce","$chromecast","$timeout",function(e,t,n,i){e.$API=null,e.getUrl=function(e){return t.trustAsResourceUrl(e)},e.setSrc=function(){var t=e.src;e.srcData=[{src:e.getUrl(e.src),type:e.mimeType}],"video/mp4"!=e.mimeType&&(t="/.nekumo/encode/"+t),n.setSrc("http://192.168.88.11:7080/"+t)},e.onPlayerReady=function(t){e.$API=t},e.$watch("src",function(){e.src&&(e.$API&&(e.$API.stop(),i(e.$API.play.bind(e.$API),200)),e.setSrc())})}])})});