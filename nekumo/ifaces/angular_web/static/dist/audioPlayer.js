System.registerDynamic("github:danielstern/ngAudio@1.7.3/app/angular.audio.js",[],!1,function(e,n,t){var i=System.get("@@global-helpers").prepareGlobal(t.id,null,null);return function(e){"use strict";angular.module("ngAudio",[]).directive("ngAudio",["$compile","$q","ngAudio",function(e,n,t){return{restrict:"AEC",scope:{volume:"=",start:"=",currentTime:"=",loop:"=",clickPlay:"=",disablePreload:"="},controller:["$scope","$attrs","$element","$timeout",function(e,n,i,o){function r(){u=t.load(n.ngAudio),e.$audio=u,u.unbind()}var u;e.disablePreload||r(),i.on("click",function(){e.clickPlay!==!1&&(e.disablePreload&&r(),u.audio.play(),u.volume=e.volume||u.volume,u.loop=e.loop,u.currentTime=e.start||0,o(function(){u.play()},5))})}]}}]).directive("ngAudioHover",["$compile","$q","ngAudio",function(e,n,t){return{restrict:"AEC",controller:function(e,n,i,o){var r=t.load(n.ngAudioHover);i.on("mouseover rollover hover",function(){r.audio.play(),r.volume=n.volumeHover||r.volume,r.loop=n.loop,r.currentTime=n.startHover||0})}}}]).service("localAudioFindingService",["$q",function(e){this.find=function(n){var t=e.defer(),i=document.getElementById(n);return i?t.resolve(i):t.reject(n),t.promise}}]).service("remoteAudioFindingService",["$q",function(e){this.find=function(n){var t=e.defer(),i=new Audio;return i.addEventListener("error",function(){t.reject()}),i.addEventListener("loadstart",function(){t.resolve(i)}),setTimeout(function(){i.src=n},1),t.promise}}]).service("cleverAudioFindingService",["$q","localAudioFindingService","remoteAudioFindingService",function(e,n,t){this.find=function(i){var o=e.defer();return i=i.replace("|","/"),n.find(i).then(o.resolve,function(){return t.find(i)}).then(o.resolve,o.reject),o.promise}}]).value("ngAudioGlobals",{muting:!1,songmuting:!1,performance:25,unlock:!0}).factory("NgAudioObject",["cleverAudioFindingService","$rootScope","$interval","$timeout","ngAudioGlobals",function(e,n,t,i,o){return function(i){function r(){a=n.$watch(function(){return{volume:y.volume,currentTime:y.currentTime,progress:y.progress,muting:y.muting,loop:y.loop,playbackRate:y.playbackRate}},function(e,n){e.currentTime!==n.currentTime&&y.setCurrentTime(e.currentTime),e.progress!==n.progress&&y.setProgress(e.progress),e.volume!==n.volume&&y.setVolume(e.volume),e.playbackRate!==n.playbackRate&&y.setPlaybackRate(e.playbackRate),c=e.loop,e.muting!==n.muting&&y.setMuting(e.muting)},!0)}function u(){a&&a(),s&&(v||o.isMuting?s.volume=0:s.volume=void 0!==y.volume?y.volume:1,d&&(s.play(),d=!1),g&&(s.pause(),s.currentTime=0,g=!1),m&&(s.pause(),m=!1),f&&(s.playbackRate=p,f=!1),l&&(s.volume=l,l=void 0),h&&(y.currentTime=s.currentTime,y.duration=s.duration,y.remaining=s.duration-s.currentTime,y.progress=s.currentTime/s.duration,y.paused=s.paused,y.src=s.src,y.currentTime>=y.duration&&A.forEach(function(e){e(y)}),c&&y.currentTime>=y.duration&&(c!==!0&&(c--,y.loop--),y.setCurrentTime(0),y.play())),v||o.isMuting||(y.volume=s.volume),y.audio=s),r()}o.unlock&&window.addEventListener("click",function e(){s.play(),s.pause(),window.removeEventListener("click",e)});var a,l,c,s,d=!1,m=!1,g=!1,f=!1,p=!1,v=!1,h=!0,y=this;this.id=i,this.safeId=i.replace("/","|"),this.loop=0,this.unbind=function(){h=!1},this.play=function(){return d=!0,this};var A=[];this.complete=function(e){A.push(e)},this.pause=function(){m=!0},this.restart=function(){g=!0},this.stop=function(){this.restart()},this.setVolume=function(e){l=e},this.setPlaybackRate=function(e){p=e,f=!0},this.setMuting=function(e){v=e},this.setProgress=function(e){s&&s.duration&&isFinite(e)&&(s.currentTime=s.duration*e)},this.setCurrentTime=function(e){s&&s.duration&&(s.currentTime=e)},e.find(i).then(function(e){s=e,s.addEventListener("canplay",function(){y.canPlay=!0})},function(e){y.error=!0,console.warn(e)});var b=t(u,o.performance);n.$watch(function(){return o.performance},function(){t.cancel(b),b=t(u,o.performance)})}}]).service("ngAudio",["NgAudioObject","ngAudioGlobals",function(e,n){this.play=function(n){var t=new e(n);return t.play(),t},this.load=function(n){return new e(n)},this.mute=function(){n.muting=!0},this.unmute=function(){n.muting=!1},this.toggleMute=function(){n.muting=!n.muting},this.setUnlock=function(e){n.unlock=e}}]).filter("trackTime",function(){return function(e){var n=Math.floor(0|e),t="",i=0,o=0,r=0;return n>3599?(i=Math.floor(n/3600),o=Math.floor((n-3600*i)/60),r=n-(60*o+3600*i),1==i.toString().length&&(i="0"+Math.floor(n/3600).toString()),1==o.toString().length&&(o="0"+Math.floor((n-3600*i)/60).toString()),1==r.toString().length&&(r="0"+(n-(60*o+3600*i)).toString()),t=i+":"+o+":"+r):n>59?(o=Math.floor(n/60),r=n-60*o,1==o.toString().length&&(o="0"+Math.floor(n/60).toString()),1==r.toString().length&&(r="0"+(n-60*o).toString()),t=o+":"+r):(r=n,1==r.toString().length&&(r="0"+n.toString()),t=n+"s"),Number.isNaN(t),t}})}(this),i()}),System.registerDynamic("github:danielstern/ngAudio@1.7.3.js",["github:danielstern/ngAudio@1.7.3/app/angular.audio.js"],!0,function(e,n,t){this||self;t.exports=e("github:danielstern/ngAudio@1.7.3/app/angular.audio.js")}),System.registerDynamic("src/shared/audioPlayer/audioPlayer.js",["angular","danielstern/ngAudio"],!0,function(e,n,t){this||self;Promise.all([e("angular"),e("danielstern/ngAudio")]).then(function(){var e=angular.module("audioPlayer",["ngAudio"]);e.directive("audioPlayer",function(){return{scope:{src:"=",mimeType:"="},templateUrl:"/.nekumo/static/src/shared/audioPlayer/audioPlayer.html"}}),e.controller("audioPlayerCtrl",["$scope","ngAudio",function(e,n){e.sound=n.load(e.src),e.sound.play()}])})});