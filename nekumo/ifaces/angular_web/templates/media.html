{% extends "base.html" %}
{% block ng_app %}mediaApp{% endblock %}
{% block content %}

{#    <div id="file-manager" class="page-layout simple right-sidenav layout-row full-height" layout="row"#}
{#         ng-controller="FileManagerController as vm" style="overflow: hidden;">#}
    <div id="media" class="page-layout simple right-sidenav" layout="row" ng-controller="mediaCtrl">

        <!-- MAIN SIDENAV (EXTRA SIDENAV) -->
        <md-sidenav class="main-sidenav" md-component-id="main-sidenav"
                    ng-include="'/.nekumo/static/src/components/fileManager/sidenavs/main/main-sidenav.html'" ms-scroll
                    ms-sidenav-helper>
        </md-sidenav>
        <!-- / MAIN SIDENAV (EXTRA SIDENAV) -->

        <!-- CENTER -->
        <div class="center" layout="column" flex>

            <!-- HEADER -->
            <div class="header md-accent-bg">

                <div class="header-content" layout="column" layout-align="space-between">
                    <div ng-include="'/.nekumo/static/src/shared/nekumo/header.html'"></div>

                    <!-- BREADCRUMB -->
                    <div class="breadcrumb text-truncate" layout="row" layout-align="start center">
                        <span ng-click="navigateTo(root);">Root</span>
                        <md-icon md-font-set="mdi" md-font-icon="mdi-chevron-right" class="icon separator"
                                 ng-if="breadcrumb.length"></md-icon>
                        <span ng-repeat="entry in breadcrumb track by $index" ng-class="($last ? 'is-last' : '')"
                              ng-click="navigateTo(entry.path)">
                            {% raw %}{{ entry.name }}{% endraw %}
                            <md-icon md-font-set="mdi" md-font-icon="mdi-chevron-right" class="icon separator"></md-icon>
                        </span>
                    </div>
                    <!-- / BREADCRUMB -->
                </div>

                <!-- ADD FILE BUTTON -->
                <div id="file-uploader"
                     flow-init="ngFlowOptions"
                     flow-name="ngFlow.flow"
                     flow-files-submitted="upload()"
                     flow-file-added="fileAdded($file)"
                     flow-file-success="fileSuccess($file, $message)"
                     flow-complete="uploadComplete()">

                    <md-button flow-btn class="add-file-button md-fab md-warn"
                               aria-label="Add file" translate
                               translate-attr-aria-label="FM.ADD_FILE">
                        <md-icon md-font-set="mdi" md-font-icon="mdi-plus"></md-icon>
                    </md-button>
                </div>
                <!-- / ADD FILE BUTTON -->
            </div>
            <md-tabs md-dynamic-height id="media-tabs" md-center-tabs="true">
                <md-tab label="All">
                    <div ng-include="'/.nekumo/static/src/components/media/grid.html'"></div>
                </md-tab>
                <md-tab label="Images">

                </md-tab>
                <md-tab label="Video">

                </md-tab>
                <md-tab label="Music">

                </md-tab>
            </md-tabs>

            <!-- / HEADER -->

            <!-- CONTENT -->
            <md-content class="content" flex ms-scroll>
{#                <media selected-src="'http://192.168.88.11:7080{{ entry.iface_path }}'"></media>#}
                <!--
                <div class="loading" ng-if="!isLoaded">
                    <md-progress-circular md-diameter="96"></md-progress-circular>
                </div> -->
                <div ng-if="!entries.length && isLoaded">
                    <div flex-xs flex="40" flex-offset="30" layout="column" id="directory-empty">
                        <md-card>
                            <div class="md-card-image">
                                <i class="mdi mdi-package-variant"></i>
                            </div>
                            <md-card-title>
                                <md-card-title-text>
                                    <span class="md-headline">Directory is empty</span>
                                </md-card-title-text>
                            </md-card-title>
                            <md-card-content>
                                <p>
                                    There is still nothing in this directory. This may be a good time to upload a file.
                                    Think about it, okay?
                                </p>
                            </md-card-content>
                            <md-card-actions layout="row" layout-align="end center">
                                <md-button class="md-icon-button" aria-label="Favorite">
                                    <md-icon md-svg-icon="img/icons/favorite.svg"></md-icon>
                                </md-button>
                                <md-button class="md-icon-button" aria-label="Settings">
                                    <md-icon md-svg-icon="img/icons/menu.svg"></md-icon>
                                </md-button>
                                <md-button class="md-icon-button" aria-label="Share">
                                    <md-icon md-svg-icon="img/icons/share-arrow.svg"></md-icon>
                                </md-button>
                            </md-card-actions>
                        </md-card>
                    </div>
                </div>
            </md-content>
            <!-- / CONTENT -->

        </div>
        <!-- / CENTER -->

    </div>

{% endblock %}

{% block js %}
    <script src="{{ url_for('static', filename='src/libs/angular-duration-format/dist/angular-duration-format.js') }}"></script>
    <script src="{{ url_for('static', filename='src/libs/angular-aria/angular-aria.min.js') }}"></script>
    <script src="{{ url_for('static', filename='src/libs/angular-messages/angular-messages.min.js') }}"></script>
    <script src="{{ url_for('static', filename='src/libs/angular-sanitize/angular-sanitize.min.js') }}"></script>
    <!-- videogular -->
    <script src="{{ url_for('static', filename='src/libs/videogular/videogular.min.js') }}"></script>
    <script src="{{ url_for('static', filename='src/libs/videogular-buffering/vg-buffering.min.js') }}"></script>
    <script src="{{ url_for('static', filename='src/libs/videogular-controls/vg-controls.min.js') }}"></script>
    <script src="{{ url_for('static', filename='src/libs/videogular-overlay-play/vg-overlay-play.min.js') }}"></script>
    <script src="{{ url_for('static', filename='src/libs/angular-event-dispatcher/dist/angular-event-dispatcher.js') }}"></script>
    <script src="{{ url_for('static', filename='src/shared/videoPlayer/videoPlayer.js') }}"></script>


    <script src="{{ url_for('static', filename='src/shared/chromecast/chromecast.js') }}"></script>
    <script src="{{ url_for('static', filename='src/shared/preview/preview.js') }}"></script>
    <script src="{{ url_for('static', filename='src/shared/fileManagerApi/fileManagerApi.js') }}"></script>
    <script src="{{ url_for('static', filename='src/shared/utils/utils.js') }}"></script>
    <script src="{{ url_for('static', filename='src/components/fileManager/file-manager.controller.js') }}"></script>
    <script src="{{ url_for('static', filename='src/components/fileManager/manager.js') }}"></script>
    <script src="{{ url_for('static', filename='src/components/fileManager/options/options.js') }}"></script>

    <script src="{{ url_for('static', filename='src/components/media/media.js') }}"></script>

    <!-- Chromecast -->
    <script type="text/javascript" src="https://www.gstatic.com/cv/js/sender/v1/cast_sender.js?loadCastFramework=1"></script>

{% endblock %}

{% block css %}
{#    <link href="{{ url_for('static', filename='src/components/fileManager/app.css') }}" rel="stylesheet">#}
    <link href="{{ url_for('static', filename='src/shared/theme/theme.css') }}" rel="stylesheet">
    <link href="{{ url_for('static', filename='src/components/fileManager/file-manager.css') }}" rel="stylesheet">
    <link href="{{ url_for('static', filename='src/components/fileManager/options/options.css') }}" rel="stylesheet">
    <link href="{{ url_for('static', filename='src/components/media/media.css') }}" rel="stylesheet">

    <link href="{{ url_for('static', filename='src/libs/videogular-themes-default/videogular.css') }}" rel="stylesheet">
    <link href="{{ url_for('static', filename='src/libs/mdi/css/materialdesignicons.css') }}" rel="stylesheet">
    <link href="{{ url_for('static', filename='src/shared/preview/preview.css') }}" rel="stylesheet">
    <link href="{{ url_for('static', filename='src/shared/videoPlayer/chromecast.css') }}" rel="stylesheet">
    <link href="{{ url_for('static', filename='src/shared/chromecast/chromecast.css') }}" rel="stylesheet">

{% endblock %}